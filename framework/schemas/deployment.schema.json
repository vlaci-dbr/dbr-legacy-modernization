{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "deployment.schema.json",
  "title": "Deployment Configuration",
  "description": "Deployment configuration schema for voice agent projects",
  "type": "object",
  "required": ["target"],
  "properties": {
    "target": {
      "type": "string",
      "enum": ["github-pages", "vercel", "netlify", "docker", "manual"],
      "description": "Deployment target platform"
    },
    "github_pages": {
      "type": "object",
      "description": "GitHub Pages specific settings",
      "properties": {
        "branch": {
          "type": "string",
          "default": "gh-pages",
          "description": "Branch to deploy to"
        },
        "cname": {
          "type": "string",
          "description": "Custom domain (CNAME)"
        },
        "base_path": {
          "type": "string",
          "default": "/",
          "description": "Base path for the site"
        }
      }
    },
    "vercel": {
      "type": "object",
      "description": "Vercel specific settings",
      "properties": {
        "project_name": {
          "type": "string",
          "description": "Vercel project name"
        },
        "team_id": {
          "type": "string",
          "description": "Vercel team ID"
        },
        "framework": {
          "type": "string",
          "default": "static",
          "description": "Framework preset"
        },
        "regions": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Deployment regions"
        }
      }
    },
    "netlify": {
      "type": "object",
      "description": "Netlify specific settings",
      "properties": {
        "site_id": {
          "type": "string",
          "description": "Netlify site ID"
        },
        "build_command": {
          "type": "string",
          "description": "Build command"
        },
        "publish_dir": {
          "type": "string",
          "default": "dist",
          "description": "Publish directory"
        }
      }
    },
    "docker": {
      "type": "object",
      "description": "Docker specific settings",
      "properties": {
        "image_name": {
          "type": "string",
          "description": "Docker image name"
        },
        "registry": {
          "type": "string",
          "description": "Container registry URL"
        },
        "port": {
          "type": "integer",
          "default": 80,
          "description": "Container port"
        }
      }
    },
    "elevenlabs": {
      "type": "object",
      "description": "ElevenLabs deployment settings",
      "properties": {
        "auto_deploy": {
          "type": "boolean",
          "default": false,
          "description": "Automatically deploy to ElevenLabs"
        },
        "dry_run": {
          "type": "boolean",
          "default": true,
          "description": "Run in dry-run mode by default"
        },
        "update_existing": {
          "type": "boolean",
          "default": true,
          "description": "Update existing agents instead of creating new"
        }
      }
    },
    "environment": {
      "type": "object",
      "description": "Environment-specific settings",
      "properties": {
        "production": {
          "type": "object",
          "properties": {
            "url": {
              "type": "string",
              "format": "uri",
              "description": "Production URL"
            }
          }
        },
        "staging": {
          "type": "object",
          "properties": {
            "url": {
              "type": "string",
              "format": "uri",
              "description": "Staging URL"
            }
          }
        }
      }
    }
  },
  "additionalProperties": false
}
